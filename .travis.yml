language: cpp
os:
- linux
branches:
  except:
  - gh_pages
dist: trusty
addons:
  apt:
    packages:
    - docker
notifications:
  email:
    on_success: change
    on_failure: change
git:
  depth: 15

script:
- ./build.sh
- chmod +x wxmaxima-x86_64.AppImage
- ./wxmaxima-x86_64.AppImage --batch test.wxmx

deploy:
  provider: releases
  edge: true
  draft: false
  file: "wxmaxima-x86_64.AppImage"
  skip_cleanup: true
  tags: true
  all_branches: true
  api_key:
    secure: "hR18yv73buNSsp6lBCqe7LZmL1SfK7HZs0f3gnh1I5b4yga8Rsls12amfKXqqy+y8Zl0Zm7jH04vkMziJvcSNY8qo/1snttyWaBnIVeFijSW/4bclYTURVbzFERsmFCsN0FaST7bKqSP0I+Pe+639Wq2cTiaxC5gPFGQkHsR0INatGWnegdkABKoe7antts/Q/CSw0QVDLDUAxCwIDaAujzw3Nl0UGFd06Ese+or/i3isV+/WMIk4SxD+iE9kMpZJkipuBxGVXgEHr0cxwPo4Cvv1isikI2zIVMWGiosXIlSRZ0xygwY2lGptJVVfwSWU0ZaiMZ/ioJpAHycX2qMOziO6+U6zz8WkhdufdgRhZztViYuQKfi8K1ja5lMVtxBPJD/I3vptMUTraIYHaaR4ljNw1TtqMkVGp15zvlIp6NjxSv325Re8MU9mCiEyKJWxnQzJ2Gvj++syRLnBW5zW52Z8pqDPL1SwzniLVDKv/16x3Z4g8okTL27zoijU8y/C62be8SRnBZLWkY/YPpTSZkSf7YCf3bLfjtL54JpfAa9FxxBo8XbKH8KttzOH1YyDNh4qH6lIs4B3HYOpZFSw96t0fFpF0wlpqMir+k3Mc9DIQYqEtqantWm6uSmKMBBwQ/NvxHTJIFELsIhWg0qvw9t6/oRJCEf0Gqt62eHAFI="
